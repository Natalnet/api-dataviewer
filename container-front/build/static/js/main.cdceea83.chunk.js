(this.webpackJsonpdataviewer=this.webpackJsonpdataviewer||[]).push([[0],{60:function(e,t,n){},89:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n(41),c=n.n(a),o=(n(60),n(19)),s=n(3),i=n(12),u=Object(r.createContext)({token:null,setToken:function(){}}),l=n(17),j=n.n(l),b={};try{if(!window.sessionStorage)throw Error("no session storage");b.set=function(e,t){return sessionStorage.setItem(e,JSON.stringify(t))},b.get=function(e){var t=sessionStorage.getItem(e);try{return JSON.parse(t)}catch(n){return null}},b.remove=function(e){return sessionStorage.removeItem(e)}}catch(F){b.set=j.a.set,b.get=j.a.getJSON,b.remove=j.a.remove}var d=b;var f=n(2),p=function(e){var t=e.children,n=function(e){var t=Object(r.useState)((function(){return d.get(e)})),n=Object(i.a)(t,2),a=n[0],c=n[1];return[a,Object(r.useCallback)((function(t){d.set(e,t),c(t)}),[e]),Object(r.useCallback)((function(){d.remove(e),c(void 0)}),[e])]}("token"),a=Object(i.a)(n,2),c=a[0],o=a[1];return Object(f.jsx)(u.Provider,{value:{token:c,setToken:o},children:t})},O=n(25),h=n(15),g=n.n(h),m=n(18),v=n(52),x=n(42),k=n.n(x).a.create({baseURL:"http://localhost:3333"}),w=n.p+"static/media/spinner.61cda93d.svg",S=["component"];function y(e){var t=e.component,n=Object(v.a)(e,S),a=j.a.get("APINJS_UID"),c=j.a.get("APINJS_AUTH"),o=Object(r.useState)(!1),u=Object(i.a)(o,2),l=u[0],b=u[1];Object(r.useEffect)((function(){d()}),[]);var d=function(){var e=Object(m.a)(g.a.mark((function e(){var t,n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,k.get("users/".concat(a),{headers:{Authorization:"Bearer ".concat(c)}});case 3:t=e.sent,(n=t.data).token=c,b(!0),localStorage.setItem("user",JSON.stringify(n)),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),window.location.href="http://localhost:3333",b(!1);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}();return Object(f.jsx)(s.a,Object(O.a)(Object(O.a)({},n),{},{render:function(){return!0===l?Object(f.jsx)(t,Object(O.a)({},n)):Object(f.jsx)("img",{src:w,alt:"Loading",style:{width:250}})}}))}var I=n(103);function J(e){var t=Object(r.useState)([]),n=Object(i.a)(t,2),a=n[0],c=n[1],o=Object(s.f)().id_class,u=function(){var e=Object(m.a)(g.a.mark((function e(){var t,n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=JSON.parse(localStorage.getItem("user")),e.next=3,k.get("graphs/".concat(o),{headers:{authorization:"Bearer ".concat(t.token)}});case 3:n=e.sent,c(n.data),console.log(n.data);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(r.useEffect)((function(){u()}),[]),Object(f.jsxs)(I.a,{children:["Ol\xe1, voc\xea quer ver os gr\xe1ficos da Turma ",o,a.length>0?Object(f.jsx)("p",{children:"Os dados podem ser vistos no console"}):Object(f.jsx)("p",{children:"Nenhum gr\xe1fico"})]})}var N=n(102);Object(N.a)((function(e){return{paper:{marginTop:e.spacing(20),display:"flex",flexDirection:"column",alignItems:"center",backgroundColor:e.palette.background.paper,borderRadius:"5%"},list:{width:"100%",maxWidth:360},text:{margin:e.spacing(4,0,2),width:"100%",textAlign:"center"},link:{color:"#495057"}}}));function _(e){var t=Object(r.useState)([]),n=Object(i.a)(t,2),a=n[0],c=n[1];Object(r.useEffect)((function(){o()}),[]);var o=function(){var e=Object(m.a)(g.a.mark((function e(){var t,n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=JSON.parse(localStorage.getItem("user")),e.next=3,k.get("classes/".concat(t._id),{headers:{authorization:"Bearer ".concat(t.token)}});case 3:n=e.sent,c(n.data);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(f.jsx)("div",{children:Object(f.jsxs)(I.a,{children:["Minhas Turmas",a.length>0?a.map((function(e){return Object(f.jsx)("p",{children:e.name_class},e._id)})):Object(f.jsx)("p",{children:"Nenhuma turma"})]})})}function A(){return Object(f.jsx)(o.a,{children:Object(f.jsx)(p,{children:Object(f.jsxs)(s.c,{children:[Object(f.jsx)(y,{path:"/turmas",component:_}),Object(f.jsx)(y,{path:"/:id_class",component:J})]})})})}var T,z=n(47),B=n(48),E=Object(B.a)(T||(T=Object(z.a)(["\n    *{\n        margin: 0;\n        padding: 0;\n        outline: 0;\n        box-sizing: border-box;\n    }\n\n    html, body, #root {\n        min-height: 100%;\n    }\n\n    body {\n        background: #F5F7FB;\n        -webkit-font-smoothing: antialiased !important;\n    }\n\n    body, input, button {\n        color: #222;\n        font-size: 14px;\n        font-family: Arial, Helvetica, sans-serif\n    }\n\n    button {\n        cursor: pointer;\n    }\n"])));var C=function(){return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(A,{}),Object(f.jsx)(E,{})]})};c.a.render(Object(f.jsx)(C,{}),document.getElementById("root"))}},[[89,1,2]]]);
//# sourceMappingURL=main.cdceea83.chunk.js.map